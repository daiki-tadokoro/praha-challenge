## 課題2-1

Post に紐づくTagのidを複数のカラムで管理した場合に生じる問題を説明せよ。


1. クエリが複雑・非効率になる

- タグが増えるとOR条件が増えていき煩雑になる。
- tag1Id, tag2Id, tag3Id... それぞれにインデックスが必要
  結果的に、全体としてはフルスキャンに近い処理が発生する

```sql
-- タグAに紐づくPostを探す

SELECT * FROM Post
WHERE tag1Id = 1 OR tag2Id = 1 OR tag3Id = 1;
```

2. 整合性が保ちにくい

- tag1Id と tagId2 に同じタグが入る可能性があり、重複の制御が難しい。
- NULLの扱いや順番の意味が不明確である

3. 保守性が低い

- タグを４つ以上つけたいとなった場合に、スキーマを変更する必要がある。
- カラムの増減のたびに、マイグレーションが必要なためアプリケーションコードにも変更が必要。

### 参考資料
https://qiita.com/fktnkit/items/52c45c61db0a209694ca
https://zenn.dev/t_keshi/scraps/2a125a34eb9baf?utm_source=chatgpt.com
https://minegishirei.hatenablog.com/entry/2023/02/11/194550
https://zenn.dev/asamin/articles/fb410c6d9033b9