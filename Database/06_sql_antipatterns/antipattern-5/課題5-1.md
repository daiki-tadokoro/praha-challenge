## 課題5-1

Salesforceのようなサービスを想像してみてください。
以下のようなテーブルで新規顧客の営業進捗を管理しているとします。

```sql
TABLE NewCustomer {
  id: varchar
  called: boolean -- 電話をかけたらTRUEになる。FALSEの人には電話をかけなければいけない
  callNote: varchar -- 電話をかけた時に交わした内容のメモ
  metOnce: boolean -- アポで面談したらTRUEになる
  metAt: date -- 面談をした日付が入る
  closed: boolean -- 成約した
  closedAt: date -- 成約した日付が入る
}
```

上記の設計だとどのような問題が生じるか、説明してください。

<aside>
💡 ヒント

- 例えば商談の数が増えたらどうなるでしょうか？
- 仮に面談を3回実施して、1回目の面談日時を知りたい時はどうすれば良いのでしょうか？
- 例えば一度成約した後に解約し、後にまた同じ人が成約したらどうなるでしょうか？
</aside>

## 問題点

1. 商談の数が増えた場合、
   - 現在の設計では、`metOnce`と`metAt`という単一の面談情報しか保持できない
   - 複数回の商談が発生した場合、2回目以降の商談情報を記録する方法がない
   - 商談の履歴を時系列で追跡することができない
   - 商談回数に基づく分析（例：成約率と商談回数の関係）ができない

2. 面談履歴の管理が困難
   - 1回目の面談日時を知りたい場合、現在の設計では把握できない
   - 面談の履歴を保持する方法がない
   - 過去の面談情報を参照することができない
   - 面談の時系列での追跡ができない

3. 成約履歴の管理が困難
   - 一度成約した後に解約し、再度成約した場合、以前の成約情報が失われる
   - 解約情報を記録する方法がない
   - 成約・解約の履歴に基づく分析ができない